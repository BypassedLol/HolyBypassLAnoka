<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Amplify — Embed</title>
  <style>
    :root { background: #000; color: #fff; }
    html,body { height:100%; margin:0; padding:0; overflow:hidden; font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; }
    .frame-wrap{height:100%; width:100%; display:block; position:relative;}
    iframe{width:100%; height:100%; border:0; display:block; background:#000;}
    .fallback {
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      padding:1.25rem; text-align:center; gap:.5rem;
      background:linear-gradient(180deg, rgba(0,0,0,.6), rgba(0,0,0,.85));
      color:#eee; font-size:1rem;
    }
    a.button { color:#000; background:#fff; padding:.5rem .75rem; border-radius:6px; text-decoration:none; font-weight:600; }
  </style>
</head>
<body>
  <div class="frame-wrap" role="region" aria-label="Embedded content">
    <!--
      Notes:
      - If the site at the `src` is blocked by an extension, the iframe may not load.
      - To control headers or serve the embed from the same origin, use a serverless proxy (Cloudflare Worker, Vercel, etc).
    -->
    <iframe
      id="embed"
      title="Embedded site: Seasaw"
      src="https://bypassedlol.github.io/Seasaw"
      referrerpolicy="no-referrer-when-downgrade"
      allow="fullscreen; clipboard-read; clipboard-write; encrypted-media"
      sandbox="allow-scripts allow-forms allow-popups allow-modals allow-pointer-lock"
      loading="lazy"
    ></iframe>

    <!-- Simple fallback shown visually if the iframe can't display (CSS overlay) -->
    <div class="fallback" id="fallback" aria-hidden="true" style="display:none;">
      <div>
        <div style="margin-bottom:.5rem">This content could not load inside the embed.</div>
        <a class="button" id="openDirect" href="https://bypassedlol.github.io/Seasaw" target="_blank" rel="noopener noreferrer">Open directly</a>
      </div>
    </div>
  </div>

  <script>
    // If iframe fails to load after a short time, show fallback affordance.
    (function(){
      const iframe = document.getElementById('embed');
      const fallback = document.getElementById('fallback');

      // If the iframe fires load -> hide fallback (if previously shown).
      iframe.addEventListener('load', () => {
        // Some blockers may still result in a load event but blank content — no perfect detection.
        fallback.style.display = 'none';
      });

      // Basic detection: if after 2.5s the iframe documentElement isn't accessible (cross-origin),
      // or if it's blocked (no contentWindow), show fallback.
      setTimeout(() => {
        try {
          if (!iframe.contentWindow || iframe.contentWindow.location === null) {
            fallback.style.display = 'flex';
          }
        } catch (e) {
          // Access will throw if cross-origin — that is normal and not necessarily indicate "blocked".
          // Extensions may block the frame entirely (no contentWindow) or replace with about:blank.
          // We'll show the fallback if it appears empty (common case).
          fallback.style.display = 'flex';
        }
      }, 2500);
    })();
  </script>
</body>
</html>
